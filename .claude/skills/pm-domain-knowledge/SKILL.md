<!-- INITIALIZED: true -->
<!-- Auto-generated by /pm-review. Edit to customize. -->

# PM Domain Knowledge

This file provides domain-specific context for the PM agent when analyzing this codebase.

**Auto-generated sections** are marked with `[AUTO]`. These are populated by `/pm-review` on first run.
**User-editable sections** can be customized to improve analysis quality.

---

## Project Overview [AUTO]

Mason is an agentic continuous-improvement system for web app repositories that helps developers automate code analysis, backlog management, and feature execution through AI-powered workflows.

**Tech Stack:**

- Next.js (React framework)
- TypeScript
- Supabase (database & auth)
- Tailwind CSS (styling)
- Framer Motion (animations)
- Anthropic Claude SDK (AI)
- OpenAI SDK (AI)
- GitHub OAuth (authentication)

## User Personas [AUTO]

### Primary User

- **Role**: Developer/technical user
- **Goals**: Automate code improvement discovery, manage technical backlog efficiently, execute approved improvements via CLI
- **Pain Points**: Manual code reviews miss improvements, backlog management is tedious, lack of systematic improvement process

## Domain Priorities [AUTO]

<!-- Weights for different improvement domains -->
<!-- User priorities: Ship features quickly, Stability/reliability -->

| Domain       | Priority | Notes                                         |
| ------------ | -------- | --------------------------------------------- |
| frontend-ux  | Medium   | UX polish important but secondary to features |
| api-backend  | High     | Core functionality for feature delivery       |
| reliability  | High     | User priority: stability/reliability          |
| security     | High     | Security-weighted in config (1.2x)            |
| code-quality | Medium   | Lower priority than features (0.8x)           |
| new-features | High     | User priority: Ship features quickly          |

## Off-Limits Areas [AUTO]

<!-- Areas that should NOT receive improvement suggestions -->

- None specified

---

## Technical Constraints [USER-EDITABLE]

<!-- Optional: Add any technical limitations the PM should consider -->

- Must use TABLES constant for all Supabase queries (tables prefixed with mason\_)
- Dark mode only - no light mode
- No emojis in UI unless explicitly requested
- Privacy architecture: user data stays in user's Supabase, not central server

## Known Technical Debt [AUTO]

<!-- Auto-detected from TODO/FIXME comments -->

Approximately 15571 TODO/FIXME comments found in codebase.

## Improvement Guidelines

### Prefer

- Improvements aligned with domain priorities above
- Changes that reduce user friction
- Reliability improvements that prevent bugs
- Performance optimizations for critical paths
- Features that ship quickly

### Avoid

- Major architectural changes without discussion
- Adding new dependencies for minor gains
- Cosmetic changes without functional benefit
- Breaking changes to public APIs

---

## Validation Blocklist [USER-EDITABLE]

<!-- Optional: Add patterns that should never be flagged as improvements -->
<!-- Create .claude/pm-blocklist.json for persistent blocklist rules -->

None configured. To add blocklist patterns, create `.claude/pm-blocklist.json`:

```json
{
  "patterns": [
    {
      "type": "file",
      "pattern": "legacy/*",
      "reason": "Legacy code not being maintained"
    },
    {
      "type": "title",
      "pattern": "*logging*",
      "reason": "Logging improvements are low priority"
    }
  ]
}
```

## Acceptance Metrics [AUTO-UPDATED]

<!-- Tracks validation accuracy by domain to tune thresholds -->

| Domain       | Validated | Filtered | Restored | Accept Rate |
| ------------ | --------- | -------- | -------- | ----------- |
| security     | 0         | 0        | 0        | -           |
| reliability  | 0         | 0        | 0        | -           |
| frontend-ux  | 0         | 0        | 0        | -           |
| api-backend  | 0         | 0        | 0        | -           |
| code-quality | 0         | 0        | 0        | -           |

---

## Notes for PM Agent

When analyzing this codebase:

1. **Respect priorities**: Use the Domain Priorities table to weight suggestions
2. **Honor off-limits**: Never suggest changes to Off-Limits Areas
3. **User-first**: Prioritize improvements that benefit technical users
4. **Pragmatic**: Suggest improvements achievable with current resources
5. **Incremental**: Prefer small, safe changes over big-bang refactors
6. **Check blocklist**: Respect `.claude/pm-blocklist.json` exclusions
7. **Learn from restores**: Patterns with high restore rates need adjustment

Remember: The best improvement is one that ships and provides value.
